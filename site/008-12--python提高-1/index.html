



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>008 12 python提高 1 - 臧珍华的博客</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.30686662.css">
      
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#121-gil" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href=".." title="臧珍华的博客" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              臧珍华的博客
            </span>
            <span class="md-header-nav__topic">
              
                008 12  python提高 1
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href=".." title="臧珍华的博客" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    臧珍华的博客
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Welcome to MkDocs" class="md-nav__link">
      Welcome to MkDocs
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../001-网络udp/" title="001 网络udp" class="md-nav__link">
      001 网络udp
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../002-网络tcp/" title="002 网络tcp" class="md-nav__link">
      002 网络tcp
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../003-9--http协议、web服务器-并发服务器1/" title="9.1. http协议" class="md-nav__link">
      9.1. http协议
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../004--10--web服务器-并发服务器2/" title="004 10 web服务器 并发服务器2" class="md-nav__link">
      004  10  web服务器 并发服务器2
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../005--11-网络通信过程/" title="005 11 网络通信过程" class="md-nav__link">
      005  11 网络通信过程
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../006 18. WSGI、mini-web框架/" title="多进程的面向对象的web服务器" class="md-nav__link">
      多进程的面向对象的web服务器
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../007 19. 闭包、装饰器/" title="007 19. 闭包、装饰器" class="md-nav__link">
      007 19. 闭包、装饰器
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        008 12  python提高 1
      </label>
    
    <a href="./" title="008 12 python提高 1" class="md-nav__link md-nav__link--active">
      008 12  python提高 1
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#121-gil" class="md-nav__link">
    12.1. GIL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gil" class="md-nav__link">
    GIL（全局解释器锁）
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gil_1" class="md-nav__link">
    GIL面试题如下
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    参考答案:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#122" class="md-nav__link">
    12.2. 深拷贝、浅拷贝
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    深拷贝、浅拷贝
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#146" class="md-nav__link">
    1. 浅拷贝
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#246" class="md-nav__link">
    2. 深拷贝
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    进一步理解深拷贝
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#346" class="md-nav__link">
    3. 拷贝的其他方式
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#446" class="md-nav__link">
    4. 注意点
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#copy" class="md-nav__link">
    浅拷贝对不可变类型和可变类型的copy不同
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copycopycopydeepcopy" class="md-nav__link">
    copy.copy和copy.deepcopy的区别
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    私有化
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    总结
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import" class="md-nav__link">
    import导入模块
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-import" class="md-nav__link">
    1. import 搜索路径
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    路径搜索
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    程序执行时添加新的模块路径
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    2. 重新导入模块
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    3. 多模块开发时的注意点
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    再议 封装、继承、多态
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    为啥要封装
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    好处
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    为啥要继承
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    说明
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    怎样理解多态
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python" class="md-nav__link">
    更加超详细的解释Python的封装,继承,多态
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../009-13--python提高-2/" title="009 13 python提高 2" class="md-nav__link">
      009 13  python提高 2
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../010 网络知识补充/" title="010 网络知识补充" class="md-nav__link">
      010 网络知识补充
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#121-gil" class="md-nav__link">
    12.1. GIL
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#gil" class="md-nav__link">
    GIL（全局解释器锁）
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#gil_1" class="md-nav__link">
    GIL面试题如下
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_1" class="md-nav__link">
    参考答案:
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#122" class="md-nav__link">
    12.2. 深拷贝、浅拷贝
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    深拷贝、浅拷贝
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#146" class="md-nav__link">
    1. 浅拷贝
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#246" class="md-nav__link">
    2. 深拷贝
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    进一步理解深拷贝
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#346" class="md-nav__link">
    3. 拷贝的其他方式
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#446" class="md-nav__link">
    4. 注意点
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#copy" class="md-nav__link">
    浅拷贝对不可变类型和可变类型的copy不同
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copycopycopydeepcopy" class="md-nav__link">
    copy.copy和copy.deepcopy的区别
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    私有化
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    总结
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#import" class="md-nav__link">
    import导入模块
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-import" class="md-nav__link">
    1. import 搜索路径
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    路径搜索
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" class="md-nav__link">
    程序执行时添加新的模块路径
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    2. 重新导入模块
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    3. 多模块开发时的注意点
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" class="md-nav__link">
    再议 封装、继承、多态
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_9" class="md-nav__link">
    为啥要封装
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_10" class="md-nav__link">
    好处
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_11" class="md-nav__link">
    为啥要继承
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#_12" class="md-nav__link">
    说明
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_13" class="md-nav__link">
    怎样理解多态
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#python" class="md-nav__link">
    更加超详细的解释Python的封装,继承,多态
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                  <h1>008 12  python提高 1</h1>
                
                <h2 id="121-gil">12.1. GIL<a class="headerlink" href="#121-gil" title="Permanent link">&para;</a></h2>
<h2 id="gil">GIL（全局解释器锁）<a class="headerlink" href="#gil" title="Permanent link">&para;</a></h2>
<h4 id="gil_1">GIL面试题如下<a class="headerlink" href="#gil_1" title="Permanent link">&para;</a></h4>
<blockquote>
<p>描述Python GIL的概念， 以及它对python多线程的影响？编写一个多线程抓取网页的程序，并阐明多线程抓取程序是否可比单线程性能有提升，并解释原因。</p>
</blockquote>
<p>Guido的声明：<a href="http://www.artima.com/forums/flat.jsp?forum=106&amp;thread=214235">http://www.artima.com/forums/flat.jsp?forum=106&amp;thread=214235</a></p>
<p>he language doesn't require the GIL -- it's only the CPython virtual machine that has historically been unable to shed it.</p>
<h4 id="_1">参考答案:<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h4>
<blockquote>
<ol>
<li>Python语言和GIL没有半毛钱关系。仅仅是由于历史原因在Cpython虚拟机(解释器)，难以移除GIL。</li>
<li>GIL：全局解释器锁。每个线程在执行的过程都需要先获取GIL，保证同一时刻只有一个线程可以执行代码。</li>
<li>线程释放GIL锁的情况： 在IO操作等可能会引起阻塞的system call之前,可以暂时释放GIL,但在执行完毕后,必须重新获取GIL Python 3.x使用计时器（执行时间达到阈值后，当前线程释放GIL）或Python 2.x，tickets计数达到100</li>
<li>Python使用多进程是可以利用多核的CPU资源的。</li>
<li>多线程爬取比单线程性能有提升，因为遇到IO阻塞会自动释放GIL锁</li>
</ol>
</blockquote>
<h2 id="122">12.2. 深拷贝、浅拷贝<a class="headerlink" href="#122" title="Permanent link">&para;</a></h2>
<h2 id="_2">深拷贝、浅拷贝<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<h3 id="146">1. 浅拷贝<a class="headerlink" href="#146" title="Permanent link">&para;</a></h3>
<ul>
<li>浅拷贝是对于一个对象的顶层拷贝</li>
</ul>
<p>通俗的理解是：拷贝了引用，并没有拷贝内容</p>
<p><img alt="image.png" src="https://upload-images.jianshu.io/upload_images/14555448-e366c6daa7355d6e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" /></p>
<p><img alt="image.png" src="https://upload-images.jianshu.io/upload_images/14555448-e7696b0dfc7a4e53.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" /></p>
<h3 id="246">2. 深拷贝<a class="headerlink" href="#246" title="Permanent link">&para;</a></h3>
<ul>
<li>深拷贝是对于一个对象所有层次的拷贝(递归)</li>
</ul>
<p><img alt="image.png" src="https://upload-images.jianshu.io/upload_images/14555448-2e996c4448ba02f3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" /></p>
<h5 id="_3">进一步理解深拷贝<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h5>
<p><img alt="image.png" src="https://upload-images.jianshu.io/upload_images/14555448-cc550497a26c5012.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" /></p>
<p><img alt="image.png" src="https://upload-images.jianshu.io/upload_images/14555448-caea059bd6d0d90c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" /></p>
<h3 id="346">3. 拷贝的其他方式<a class="headerlink" href="#346" title="Permanent link">&para;</a></h3>
<ul>
<li>分片表达式可以赋值一个序列</li>
</ul>
<p><img alt="image.png" src="https://upload-images.jianshu.io/upload_images/14555448-59a8719756c53228.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" /></p>
<ul>
<li>字典的copy方法可以拷贝一个字典</li>
</ul>
<p><img alt="image.png" src="https://upload-images.jianshu.io/upload_images/14555448-2823a2162d486032.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" /></p>
<h3 id="446">4. 注意点<a class="headerlink" href="#446" title="Permanent link">&para;</a></h3>
<h4 id="copy">浅拷贝对不可变类型和可变类型的copy不同<a class="headerlink" href="#copy" title="Permanent link">&para;</a></h4>
<ol>
<li>copy.copy对于可变类型，会进行浅拷贝</li>
<li>copy.copy对于不可变类型，不会拷贝，仅仅是指向</li>
</ol>
<div class="codehilite"><pre><span></span>In [88]: a = [11,22,33]
In [89]: b = copy.copy(a)
In [90]: id(a)
Out[90]: 59275144
In [91]: id(b)
Out[91]: 59525600
In [92]: a.append(44)
In [93]: a
Out[93]: [11, 22, 33, 44]
In [94]: b
Out[94]: [11, 22, 33]

In [95]: a = (11,22,33)
In [96]: b = copy.copy(a)
In [97]: id(a)
Out[97]: 58890680
In [98]: id(b)
Out[98]: 58890680
</pre></div>

<p><img alt="image.png" src="https://upload-images.jianshu.io/upload_images/14555448-4ca24f7fc23f6bde.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" /></p>
<h4 id="copycopycopydeepcopy">copy.copy和copy.deepcopy的区别<a class="headerlink" href="#copycopycopydeepcopy" title="Permanent link">&para;</a></h4>
<blockquote>
<p>copy.copy</p>
</blockquote>
<p><img alt="image.png" src="https://upload-images.jianshu.io/upload_images/14555448-0b46e53ad737a234.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" /></p>
<p><img alt="image.png" src="https://upload-images.jianshu.io/upload_images/14555448-2cb92ff6d8cff25f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" /></p>
<blockquote>
<p>copy.deepcopy</p>
</blockquote>
<p><img alt="image.png" src="https://upload-images.jianshu.io/upload_images/14555448-44fb47f00e9fbbb5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" /></p>
<p><img alt="image.png" src="https://upload-images.jianshu.io/upload_images/14555448-b29b620eda80aa42.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" /></p>
<p><img alt="image.png" src="https://upload-images.jianshu.io/upload_images/14555448-90c5de30a6cf9ef3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" /></p>
<h2 id="_4">私有化<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<ul>
<li>xx: 公有变量</li>
<li>_x: 单前置下划线,私有化属性或方法，from somemodule import *禁止导入,类对象和子类可以访问</li>
<li>__xx：双前置下划线,避免与子类中的属性命名冲突，无法在外部直接访问(名字重整所以访问不到)(子类不能继承)</li>
<li><strong>xx</strong>:双前后下划线,用户名字空间的魔法对象或属性。例如:<code>__init__</code> , __ 不要自己发明这样的名字(子类继承)</li>
<li>xx_:单后置下划线,用于避免与Python关键词的冲突</li>
</ul>
<p>通过name mangling（名字重整(目的就是以防子类意外重写基类的方法或者属性)如：_Class__object）机制就可以访问private了。</p>
<div class="codehilite"><pre><span></span><span class="c1">#coding=utf-8</span>

<span class="k">class</span> <span class="nc">Person</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">taste</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_age</span> <span class="o">=</span> <span class="n">age</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">__taste</span> <span class="o">=</span> <span class="n">taste</span>

    <span class="k">def</span> <span class="nf">showperson</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_age</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__taste</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">dowork</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_work</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__away</span><span class="p">()</span>


    <span class="k">def</span> <span class="nf">_work</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;my _work&#39;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__away</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;my __away&#39;</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Student</span><span class="p">(</span><span class="n">Person</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">construction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">taste</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_age</span> <span class="o">=</span> <span class="n">age</span> 
        <span class="bp">self</span><span class="o">.</span><span class="n">__taste</span> <span class="o">=</span> <span class="n">taste</span>

    <span class="k">def</span> <span class="nf">showstudent</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_age</span><span class="p">)</span>
        <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__taste</span><span class="p">)</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">testbug</span><span class="p">():</span>
        <span class="n">_Bug</span><span class="o">.</span><span class="n">showbug</span><span class="p">()</span>

<span class="c1"># 模块内可以访问，当from  cur_module import *时，不导入</span>
<span class="k">class</span> <span class="nc">_Bug</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">showbug</span><span class="p">():</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;showbug&quot;</span><span class="p">)</span>

<span class="n">s1</span> <span class="o">=</span> <span class="n">Student</span><span class="p">(</span><span class="s1">&#39;jack&#39;</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="s1">&#39;football&#39;</span><span class="p">)</span>
<span class="n">s1</span><span class="o">.</span><span class="n">showperson</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)</span>

<span class="c1"># 无法访问__taste,导致报错</span>
<span class="c1"># s1.showstudent() </span>
<span class="n">s1</span><span class="o">.</span><span class="n">construction</span><span class="p">(</span><span class="s1">&#39;rose&#39;</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="s1">&#39;basketball&#39;</span><span class="p">)</span>
<span class="n">s1</span><span class="o">.</span><span class="n">showperson</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)</span>

<span class="n">s1</span><span class="o">.</span><span class="n">showstudent</span><span class="p">()</span>
<span class="k">print</span><span class="p">(</span><span class="s1">&#39;*&#39;</span><span class="o">*</span><span class="mi">20</span><span class="p">)</span>

<span class="n">Student</span><span class="o">.</span><span class="n">testbug</span><span class="p">()</span>
</pre></div>

<p><img alt="image.png" src="https://upload-images.jianshu.io/upload_images/14555448-f9fd876ff0253d05.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" /></p>
<h4 id="_5">总结<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h4>
<ul>
<li>父类中属性名为<code>__名字</code>的，子类不继承，子类不能访问</li>
<li>如果在子类中向<code>__名字</code>赋值，那么会在子类中定义的一个与父类相同名字的属性</li>
<li><code>_名</code>的变量、函数、类在使用<code>from xxx import *</code>时都不会被导入</li>
</ul>
<h2 id="import">import导入模块<a class="headerlink" href="#import" title="Permanent link">&para;</a></h2>
<h3 id="1-import">1. import 搜索路径<a class="headerlink" href="#1-import" title="Permanent link">&para;</a></h3>
<p><img alt="image.png" src="https://upload-images.jianshu.io/upload_images/14555448-91272cabc3d4b529.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" /></p>
<h3 id="_6">路径搜索<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h3>
<ul>
<li>从上面列出的目录里依次查找要导入的模块文件</li>
<li>'' 表示当前路径</li>
<li>列表中的路径的先后顺序代表了python解释器在搜索模块时的先后顺序</li>
</ul>
<h3 id="_7">程序执行时添加新的模块路径<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s1">&#39;/home/itcast/xxx&#39;</span><span class="p">)</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s1">&#39;/home/itcast/xxx&#39;</span><span class="p">)</span>  <span class="c1"># 可以确保先搜索这个路径</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">37</span><span class="p">]:</span> <span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="s2">&quot;/home/python/xxxx&quot;</span><span class="p">)</span>
<span class="n">In</span> <span class="p">[</span><span class="mi">38</span><span class="p">]:</span> <span class="n">sys</span><span class="o">.</span><span class="n">path</span>
<span class="n">Out</span><span class="p">[</span><span class="mi">38</span><span class="p">]:</span> 
<span class="p">[</span><span class="s1">&#39;/home/python/xxxx&#39;</span><span class="p">,</span>
 <span class="s1">&#39;&#39;</span><span class="p">,</span>
 <span class="s1">&#39;/usr/bin&#39;</span><span class="p">,</span>
 <span class="s1">&#39;/usr/lib/python35.zip&#39;</span><span class="p">,</span>
 <span class="s1">&#39;/usr/lib/python3.5&#39;</span><span class="p">,</span>
 <span class="s1">&#39;/usr/lib/python3.5/plat-x86_64-linux-gnu&#39;</span><span class="p">,</span>
 <span class="s1">&#39;/usr/lib/python3.5/lib-dynload&#39;</span><span class="p">,</span>
 <span class="s1">&#39;/usr/local/lib/python3.5/dist-packages&#39;</span><span class="p">,</span>
 <span class="s1">&#39;/usr/lib/python3/dist-packages&#39;</span><span class="p">,</span>
 <span class="s1">&#39;/usr/lib/python3/dist-packages/IPython/extensions&#39;</span><span class="p">,</span>
 <span class="s1">&#39;/home/python/.ipython&#39;</span><span class="p">]</span>
</pre></div>

<h3 id="2">2. 重新导入模块<a class="headerlink" href="#2" title="Permanent link">&para;</a></h3>
<p>模块被导入后，<code>import module</code>不能重新导入模块，重新导入需用<code>reload</code></p>
<p><img alt="image.png" src="https://upload-images.jianshu.io/upload_images/14555448-23d83ad4f0c12d50.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" /></p>
<p><img alt="image.png" src="https://upload-images.jianshu.io/upload_images/14555448-e635446a01f25b7d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" /></p>
<p><img alt="image.png" src="https://upload-images.jianshu.io/upload_images/14555448-6bcd419f2cb27984.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" /></p>
<p><img alt="image.png" src="https://upload-images.jianshu.io/upload_images/14555448-f317ce2d692fbadc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" /></p>
<h3 id="3">3. 多模块开发时的注意点<a class="headerlink" href="#3" title="Permanent link">&para;</a></h3>
<p>common.py模块
<div class="codehilite"><pre><span></span><span class="n">RECV_DATA_LIST</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>  <span class="c1"># 用来存储数据</span>
<span class="n">HANDLE_FLAG</span> <span class="o">=</span> <span class="bp">False</span>  <span class="c1"># 用来标记是否处理完成</span>
</pre></div></p>
<p>recv_msg.py模块
<div class="codehilite"><pre><span></span>from common import RECV_DATA_LIST
# from common import HANDLE_FLAG
import common


def recv_msg():
    &quot;&quot;&quot;模拟接收到数据，然后添加到common模块中的列表中&quot;&quot;&quot;
    print(&quot;---&gt;recv_msg&quot;)
    for i in range(5):
        RECV_DATA_LIST.append(i)


def test_recv_data():
    &quot;&quot;&quot;测试接收到的数据&quot;&quot;&quot;
    print(&quot;---&gt;test_recv_data&quot;)
    print(RECV_DATA_LIST)


def recv_msg_next():
    &quot;&quot;&quot;已经处理完成后，再接收另外的其他数据&quot;&quot;&quot;
    print(&quot;---&gt;recv_msg_next&quot;)
    # if HANDLE_FLAG:
    if common.HANDLE_FLAG:
        print(&quot;------发现之前的数据已经处理完成，这里进行接收其他的数据(模拟过程...)----&quot;)
    else:
        print(&quot;------发现之前的数据未处理完，等待中....------&quot;)
</pre></div>
handle_msg.py模块
<div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">common</span> <span class="kn">import</span> <span class="n">RECV_DATA_LIST</span>
<span class="c1"># from common import HANDLE_FLAG</span>
<span class="kn">import</span> <span class="nn">common</span>

<span class="k">def</span> <span class="nf">handle_data</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;模拟处理recv_msg模块接收的数据&quot;&quot;&quot;</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;---&gt;handle_data&quot;</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">RECV_DATA_LIST</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>

    <span class="c1"># 既然处理完成了，那么将变量HANDLE_FLAG设置为True，意味着处理完成</span>
    <span class="c1"># global HANDLE_FLAG</span>
    <span class="c1"># HANDLE_FLAG = True</span>
    <span class="n">common</span><span class="o">.</span><span class="n">HANDLE_FLAG</span> <span class="o">=</span> <span class="bp">True</span>

<span class="k">def</span> <span class="nf">test_handle_data</span><span class="p">():</span>
    <span class="sd">&quot;&quot;&quot;测试处理是否完成，变量是否设置为True&quot;&quot;&quot;</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;---&gt;test_handle_data&quot;</span><span class="p">)</span>
    <span class="c1"># if HANDLE_FLAG:</span>
    <span class="k">if</span> <span class="n">common</span><span class="o">.</span><span class="n">HANDLE_FLAG</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;=====已经处理完成====&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;=====未处理完成====&quot;</span><span class="p">)</span>
</pre></div>
main.py模块
<div class="codehilite"><pre><span></span><span class="kn">from</span> <span class="nn">recv_msg</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">handle_msg</span> <span class="kn">import</span> <span class="o">*</span>


<span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="c1"># 1. 接收数据</span>
    <span class="n">recv_msg</span><span class="p">()</span>
    <span class="c1"># 2. 测试是否接收完毕</span>
    <span class="n">test_recv_data</span><span class="p">()</span>
    <span class="c1"># 3. 判断如果处理完成，则接收其它数据</span>
    <span class="n">recv_msg_next</span><span class="p">()</span>
    <span class="c1"># 4. 处理数据</span>
    <span class="n">handle_data</span><span class="p">()</span>
    <span class="c1"># 5. 测试是否处理完毕</span>
    <span class="n">test_handle_data</span><span class="p">()</span>
    <span class="c1"># 6. 判断如果处理完成，则接收其它数据</span>
    <span class="n">recv_msg_next</span><span class="p">()</span>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre></div></p>
<p><img alt="image.png" src="https://upload-images.jianshu.io/upload_images/14555448-7b00258020e15cc5.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" />
<img alt="image.png" src="https://upload-images.jianshu.io/upload_images/14555448-71539809a81aec60.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" /></p>
<blockquote>
<p>导入模块中的数据的时候要使用 包名.变量 (类似于变量与引用变量的区别,直接从另一个问价中导入变量,在新的文件中对这个变量进行改变类似于局部变量不会影响原来文件变量的值即使加上global也不行,列表可以进行数据的添加但是不能赋值,所以以后用的时候多个文件导入共享就直接使用包名.变量名)</p>
</blockquote>
<h2 id="_8">再议 封装、继承、多态<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h2>
<p>封装、继承、多态 是面向对象的3大特性</p>
<h2 id="_9">为啥要封装<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h2>
<p><img alt="image.png" src="https://upload-images.jianshu.io/upload_images/14555448-bc15856c2fd0ba42.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" /></p>
<p><img alt="image.png" src="https://upload-images.jianshu.io/upload_images/14555448-a12f62a3a77e6f1f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" /></p>
<h4 id="_10">好处<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h4>
<blockquote>
<ol>
<li>在使用面向过程编程时，当需要对数据处理时，需要考虑用哪个模板中哪个函数来进行操作，但是当用面向对象编程时，因为已经将数据存储到了这个独立的空间中，这个独立的空间（即对象）中通过一个特殊的变量（<strong>class</strong>）能够获取到类（模板），而且这个类中的方法是有一定数量的，与此类无关的将不会出现在本类中，因此需要对数据处理时，可以很快速的定位到需要的方法是谁 这样更方便</li>
<li>全局变量是只能有1份的，多很多个函数需要多个备份时，往往需要利用其它的变量来进行储存；而通过封装 会将用来存储数据的这个变量 变为了对象中的一个“全局”变量，只要对象不一样那么这个变量就可以再有1份，所以这样更方便</li>
<li>代码划分更清晰</li>
</ol>
</blockquote>
<p>面向过程</p>
<div class="codehilite"><pre><span></span><span class="err">全局变量</span><span class="mi">1</span>
<span class="err">全局变量</span><span class="mi">2</span>
<span class="err">全局变量</span><span class="mi">3</span>
<span class="o">...</span>

<span class="k">def</span> <span class="err">函数</span><span class="mi">1</span><span class="p">():</span>
    <span class="k">pass</span>


<span class="k">def</span> <span class="err">函数</span><span class="mi">2</span><span class="p">():</span>
    <span class="k">pass</span>


<span class="k">def</span> <span class="err">函数</span><span class="mi">3</span><span class="p">():</span>
    <span class="k">pass</span>


<span class="k">def</span> <span class="err">函数</span><span class="mi">4</span><span class="p">():</span>
    <span class="k">pass</span>


<span class="k">def</span> <span class="err">函数</span><span class="mi">5</span><span class="p">():</span>
    <span class="k">pass</span>
</pre></div>

<p>面向对象</p>
<div class="codehilite"><pre><span></span><span class="k">class</span> <span class="err">类(</span><span class="nc">object</span><span class="p">):</span>
    <span class="err">属性</span><span class="mi">1</span>
    <span class="err">属性</span><span class="mi">2</span>

    <span class="k">def</span> <span class="err">方法</span><span class="mi">1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="err">方法</span><span class="mi">2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

<span class="k">class</span> <span class="err">类2(</span><span class="nc">object</span><span class="p">):</span>
    <span class="err">属性</span><span class="mi">3</span>
    <span class="k">def</span> <span class="err">方法</span><span class="mi">3</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="err">方法</span><span class="mi">4</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="err">方法</span><span class="mi">5</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>
</pre></div>

<h2 id="_11">为啥要继承<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h2>
<p><img alt="image.png" src="https://upload-images.jianshu.io/upload_images/14555448-5591f49e9d6d13ed.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240" /></p>
<h4 id="_12">说明<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h4>
<blockquote>
<ol>
<li>能够提升代码的重用率，即开发一个类，可以在多个子功能中直接使用</li>
<li>继承能够有效的进行代码的管理，当某个类有问题只要修改这个类就行，而其继承这个类的子类往往不需要就修改</li>
</ol>
</blockquote>
<h2 id="_13">怎样理解多态<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><span class="k">class</span> <span class="nc">MiniOS</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;MiniOS 操作系统类 &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">apps</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># 安装的应用程序名称列表</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> 安装的软件列表为 </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">apps</span><span class="p">))</span>

    <span class="k">def</span> <span class="nf">install_app</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">app</span><span class="p">):</span>
        <span class="c1"># 判断是否已经安装了软件</span>
        <span class="k">if</span> <span class="n">app</span><span class="o">.</span><span class="n">name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">apps</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s2">&quot;已经安装了 </span><span class="si">%s</span><span class="s2">，无需再次安装&quot;</span> <span class="o">%</span> <span class="n">app</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">app</span><span class="o">.</span><span class="n">install</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">apps</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">name</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">version</span><span class="p">,</span> <span class="n">desc</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">version</span> <span class="o">=</span> <span class="n">version</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">desc</span> <span class="o">=</span> <span class="n">desc</span>

    <span class="k">def</span> <span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="s2">&quot;</span><span class="si">%s</span><span class="s2"> 的当前版本是 </span><span class="si">%s</span><span class="s2"> - </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">desc</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;将 </span><span class="si">%s</span><span class="s2"> [</span><span class="si">%s</span><span class="s2">] 的执行程序复制到程序目录...&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">))</span>


<span class="k">class</span> <span class="nc">PyCharm</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">Chrome</span><span class="p">(</span><span class="n">App</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">install</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;正在解压缩安装程序...&quot;</span><span class="p">)</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">install</span><span class="p">()</span>


<span class="n">linux</span> <span class="o">=</span> <span class="n">MiniOS</span><span class="p">(</span><span class="s2">&quot;Linux&quot;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">linux</span><span class="p">)</span>

<span class="n">pycharm</span> <span class="o">=</span> <span class="n">PyCharm</span><span class="p">(</span><span class="s2">&quot;PyCharm&quot;</span><span class="p">,</span> <span class="s2">&quot;1.0&quot;</span><span class="p">,</span> <span class="s2">&quot;python 开发的 IDE 环境&quot;</span><span class="p">)</span>
<span class="n">chrome</span> <span class="o">=</span> <span class="n">Chrome</span><span class="p">(</span><span class="s2">&quot;Chrome&quot;</span><span class="p">,</span> <span class="s2">&quot;2.0&quot;</span><span class="p">,</span> <span class="s2">&quot;谷歌浏览器&quot;</span><span class="p">)</span>

<span class="n">linux</span><span class="o">.</span><span class="n">install_app</span><span class="p">(</span><span class="n">pycharm</span><span class="p">)</span>
<span class="n">linux</span><span class="o">.</span><span class="n">install_app</span><span class="p">(</span><span class="n">chrome</span><span class="p">)</span>
<span class="n">linux</span><span class="o">.</span><span class="n">install_app</span><span class="p">(</span><span class="n">chrome</span><span class="p">)</span>

<span class="k">print</span><span class="p">(</span><span class="n">linux</span><span class="p">)</span>
</pre></div>

<p>运行结果</p>
<div class="codehilite"><pre><span></span>Linux 安装的软件列表为 []
将 PyCharm [1.0] 的执行程序复制到程序目录...
正在解压缩安装程序...
将 Chrome [2.0] 的执行程序复制到程序目录...
已经安装了 Chrome，无需再次安装
Linux 安装的软件列表为 [&#39;PyCharm&#39;, &#39;Chrome&#39;]
</pre></div>

<h2 id="python">更加超详细的解释Python的封装,继承,多态<a class="headerlink" href="#python" title="Permanent link">&para;</a></h2>
<div class="codehilite"><pre><span></span><span class="sd">&#39;&#39;&#39;</span>
<span class="sd">继承：</span>
<span class="sd">    一种创造新类的方法，新建的类可以继承一个或多个父类的属性</span>
<span class="sd">    父类又可以称为 基类或超类；子类又称为派生类</span>

<span class="sd">继承的目的： 为了减少类与类之间的代码冗余</span>

<span class="sd">python中继承的特点：</span>
<span class="sd">    1.可以遗传、重用父类的属性</span>
<span class="sd">    2.一个子类可以继承多个父类</span>
<span class="sd">    3.继承背景下，python中的类分为两种：新式类、经典类</span>
<span class="sd">        新式类：但凡继承了object的类，以及该类的子类、子子类</span>
<span class="sd">            在python3中一个类即便是没有显式的继承任何类，则默认继承object类。</span>
<span class="sd">            即，python3中所有的类都是新式类</span>
<span class="sd">        经典类：没有继承object</span>
<span class="sd">            在python2中取分新式、经典类</span>
<span class="sd">&#39;&#39;&#39;</span>


<span class="k">class</span> <span class="nc">Parent1</span><span class="p">:</span>
    <span class="k">pass</span>


<span class="c1"># 在python3中写入object继承，为了能在Python2中兼容</span>
<span class="k">class</span> <span class="nc">Parent2</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">Sub1</span><span class="p">(</span><span class="n">Parent1</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="k">class</span> <span class="nc">Sub2</span><span class="p">(</span><span class="n">Parent1</span><span class="p">,</span> <span class="n">Parent2</span><span class="p">):</span>
    <span class="k">pass</span>


<span class="c1"># 查看类的父类(基类)，访问属性__bases__</span>
<span class="k">print</span><span class="p">(</span><span class="n">Parent1</span><span class="o">.</span><span class="vm">__bases__</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">Parent2</span><span class="o">.</span><span class="vm">__bases__</span><span class="p">)</span>  <span class="c1"># 默认继承 object类</span>
<span class="k">print</span><span class="p">(</span><span class="n">Sub1</span><span class="o">.</span><span class="vm">__bases__</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">Sub2</span><span class="o">.</span><span class="vm">__bases__</span><span class="p">)</span>
<span class="c1"># 判断是否是另一个类的子类，使用内置方法 issubclass()</span>
<span class="k">print</span><span class="p">(</span><span class="nb">issubclass</span><span class="p">(</span><span class="n">Sub1</span><span class="p">,</span><span class="n">Parent1</span><span class="p">))</span>

<span class="c1"># 判断对象是否是特定类的实例，使用方法isinstance()</span>
<span class="n">s</span> <span class="o">=</span> <span class="n">Sub1</span><span class="p">()</span>
<span class="c1"># 对象是所属类的实例</span>
<span class="k">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="n">Sub1</span><span class="p">))</span>
<span class="c1"># 对象是所属类的父类的实例</span>
<span class="k">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="n">Parent1</span><span class="p">))</span>
<span class="c1"># 对象是object类的实例</span>
<span class="k">print</span><span class="p">(</span><span class="nb">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="nb">object</span><span class="p">))</span>

<span class="c1"># 获悉对象属于哪个类，使用属性__class__</span>
<span class="k">print</span><span class="p">(</span><span class="n">s</span><span class="o">.</span><span class="vm">__class__</span><span class="p">)</span>


<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">子类如何重用父类？</span>
<span class="sd">    方式一、指名道姓的应用某一个类中的函数</span>
<span class="sd">        （1、与继承无关 2、且访问的函数，没有自动传值的效果）</span>
<span class="sd">    方式二、使用内置方法 super()</span>
<span class="sd">            返回一个特殊的对象，该对象用来专门访问父类中的属性 **完全参照mro列表**</span>
<span class="sd">        python2中：类中使用super(当前类名，self)</span>
<span class="sd">        python3中：super()</span>
<span class="sd">        （1、严格依赖mro列表 2、访问的是绑定方法，有自动传值的效果）</span>

<span class="sd">在继承背景下,属性的查找优先级：</span>
<span class="sd">   1.单继承背景： 对象内部 --》 对象的类 --》 父类 --》 父父类 …… --》object</span>
<span class="sd">   2.多继承背景：</span>
<span class="sd">    1）若一个子类继承多个分支，非菱形结构（多个分支没有共同继承经典类、新式类（非object的类））</span>
<span class="sd">        对象内部 --》 对象的类 --》父类（从左往右，各分支查找） --》 object</span>
<span class="sd">    2）菱形继承问题</span>
<span class="sd">        -1 py3，py2 多父类最终指向同一个类，此类为新式类：</span>
<span class="sd">            广度优先查找：各父类分支查找，在最后一个父类查找完毕，再去顶级类查找</span>
<span class="sd">        -2 py2 多父类最终指向同一个类，此类为经典类：</span>
<span class="sd">            深度优先查找：在第一个父类分支查找，第一次就去找顶级类查找</span>

<span class="sd">python查找原理：</span>
<span class="sd">    使用C3线性算法，计算出一个方法解析顺序（MRO），此列表是一个简单的所有积累的线性顺序列表。</span>
<span class="sd">    如：&gt;&gt;&gt; f.mro()</span>
<span class="sd">        [&lt;class &#39;__main__.F&#39;&gt;, &lt;class &#39;__main__.D&#39;&gt;, &lt;class &#39;__main__.B&#39;&gt;, </span>
<span class="sd">        &lt;class &#39;__main__.E&#39;&gt;, &lt;class &#39;__main__.C&#39;&gt;, &lt;class &#39;__main__.A&#39;&gt;, &lt;class &#39;object&#39;&gt;]</span>

<span class="sd">    所有父类的MRO列表并遵循如下三条准则:</span>
<span class="sd">        1.子类会先于父类被检查</span>
<span class="sd">        2.多个父类会根据它们在列表中的顺序被检查</span>
<span class="sd">        3.如果对下一个类存在两个合法的选择,选择第一个父类</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="c1"># 利用继承解决代码冗余</span>
<span class="k">class</span> <span class="nc">CollegePeople</span><span class="p">:</span>
    <span class="n">school</span> <span class="o">=</span> <span class="s1">&#39;college&#39;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">sex</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sex</span> <span class="o">=</span> <span class="n">sex</span>


<span class="k">class</span> <span class="nc">Stu</span><span class="p">(</span><span class="n">CollegePeople</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">sex</span><span class="p">,</span> <span class="n">score</span><span class="p">):</span>
        <span class="c1"># 指名道姓的应用父类中的函数</span>
       <span class="n">CollegePeople</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">sex</span><span class="p">)</span>
         <span class="bp">self</span><span class="o">.</span><span class="n">score</span> <span class="o">=</span> <span class="n">score</span>

    <span class="k">def</span> <span class="nf">choose_course</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> choose course&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Teacher</span><span class="p">(</span><span class="n">CollegePeople</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">sex</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
        <span class="c1"># CollegePeople.__init__(self, name, age, sex)</span>
        <span class="c1"># 使用内置方法 super()重用父类</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">sex</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">level</span> <span class="o">=</span> <span class="n">level</span>

    <span class="k">def</span> <span class="nf">score</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">stu</span><span class="p">,</span> <span class="n">num</span><span class="p">):</span>
        <span class="n">stu</span><span class="o">.</span><span class="n">score</span> <span class="o">=</span> <span class="n">num</span>
<span class="n">s1</span> <span class="o">=</span> <span class="n">Stu</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="s1">&#39;male&#39;</span><span class="p">,</span><span class="mi">99</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">s1</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
<span class="n">t1</span> <span class="o">=</span> <span class="n">Teacher</span><span class="p">(</span><span class="s1">&#39;teacher&#39;</span><span class="p">,</span><span class="mi">28</span><span class="p">,</span><span class="s1">&#39;female&#39;</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">t1</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>


<span class="err">方式一、指名道姓的应用某一个类中的函数</span>
 <span class="err">（</span><span class="mi">1</span><span class="err">、与继承无关</span> <span class="mi">2</span><span class="err">、且访问的函数，没有自动传值的效果）</span>

<span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">a</span> <span class="o">=</span> <span class="n">a</span>


<span class="k">class</span> <span class="nc">B</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="n">b</span>


<span class="k">class</span> <span class="nc">C</span><span class="p">(</span><span class="n">A</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">):</span>
        <span class="n">A</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">a</span><span class="p">)</span>
        <span class="n">B</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">c</span> <span class="o">=</span> <span class="n">c</span>


<span class="n">c1</span> <span class="o">=</span> <span class="n">C</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">c1</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
<span class="c1"># -------------------------------</span>

<span class="c1"># 单继承下的查找顺序</span>

<span class="k">class</span> <span class="nc">Pra</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">f1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;P --&gt; f1&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">f2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;P ----&gt;  f2&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">f1</span><span class="p">()</span>
<span class="k">class</span> <span class="nc">Fo</span><span class="p">(</span><span class="n">Pra</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">f1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;F ---&gt; f1&#39;</span><span class="p">)</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">Fo</span><span class="p">()</span>
<span class="n">a</span><span class="o">.</span><span class="n">f2</span><span class="p">()</span>

<span class="c1"># -----------------------------------------------</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">组合：某一个对象，拥有一个属性，其值来自于另一个类的对象</span>
<span class="sd">    class Foo:</span>
<span class="sd">        xxx = 222</span>
<span class="sd">    class Bar:</span>
<span class="sd">        yyy = 111</span>
<span class="sd">    obj = Foo()</span>
<span class="sd">    b = Bar（）</span>

<span class="sd">    obj.attr = Bar()</span>
<span class="sd">    obj.a = b</span>

<span class="sd">    obj.xxxx #调用Foo内属性</span>
<span class="sd">    obj.attr.yyyy #调用Bar内属性</span>
<span class="sd">使用组合的目的：</span>
<span class="sd">    通过为某一个对象添加属性的方式，间接将两个类进行关联，减少类与类代码冗余</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="c1"># 使用组合减少代码冗余</span>

<span class="k">class</span> <span class="nc">CollegePeople</span><span class="p">():</span>
    <span class="n">school</span> <span class="o">=</span> <span class="s1">&#39;college&#39;</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">sex</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">age</span> <span class="o">=</span> <span class="n">age</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">sex</span> <span class="o">=</span> <span class="n">sex</span>


<span class="k">class</span> <span class="nc">CollegeStudent</span><span class="p">(</span><span class="n">CollegePeople</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">sex</span><span class="p">,</span> <span class="n">score</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">sex</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">score</span> <span class="o">=</span> <span class="n">score</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">courses</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">tell_all_course</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">((</span><span class="s1">&#39;学生[</span><span class="si">%s</span><span class="s1">]选修的课程如下&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="s1">&#39;=&#39;</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">courses</span><span class="p">:</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">tell_course</span><span class="p">()</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;=&#39;</span> <span class="o">*</span> <span class="mi">60</span><span class="p">)</span>


<span class="k">class</span> <span class="nc">CollegeTeacher</span><span class="p">(</span><span class="n">CollegePeople</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">sex</span><span class="p">,</span> <span class="n">level</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">,</span> <span class="n">sex</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">level</span> <span class="o">=</span> <span class="n">level</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">courses</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">def</span> <span class="nf">tell_all_course</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">((</span><span class="s1">&#39;老师[</span><span class="si">%s</span><span class="s1">]教授的课程如下&#39;</span> <span class="o">%</span> <span class="bp">self</span><span class="o">.</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">center</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="s1">&#39;*&#39;</span><span class="p">))</span>
        <span class="k">for</span> <span class="n">obj</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">courses</span><span class="p">:</span>
            <span class="n">obj</span><span class="o">.</span><span class="n">tell_course</span><span class="p">()</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;*&#39;</span> <span class="o">*</span> <span class="mi">70</span><span class="p">)</span>

<span class="c1"># 创建课程</span>
<span class="k">class</span> <span class="nc">CollegeCourse</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">c_name</span><span class="p">,</span> <span class="n">c_price</span><span class="p">,</span> <span class="n">c_period</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">c_name</span> <span class="o">=</span> <span class="n">c_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">c_price</span> <span class="o">=</span> <span class="n">c_price</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">c_period</span> <span class="o">=</span> <span class="n">c_period</span>
    <span class="k">def</span> <span class="nf">tell_course</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="s1">&#39;course:&#39;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_price</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">c_period</span><span class="p">)</span>


<span class="n">python</span> <span class="o">=</span> <span class="n">CollegeCourse</span><span class="p">(</span><span class="s1">&#39;python全栈开发&#39;</span><span class="p">,</span> <span class="mi">1900</span><span class="p">,</span> <span class="s1">&#39;5mons&#39;</span><span class="p">)</span>
<span class="n">linux</span> <span class="o">=</span> <span class="n">CollegeCourse</span><span class="p">(</span><span class="s1">&#39;linux架构师&#39;</span><span class="p">,</span> <span class="mi">900</span><span class="p">,</span> <span class="s1">&#39;3mons&#39;</span><span class="p">)</span>

<span class="c1"># 学生添加课程</span>
<span class="n">stu1</span> <span class="o">=</span> <span class="n">CollegeStudent</span><span class="p">(</span><span class="s1">&#39;STU1&#39;</span><span class="p">,</span> <span class="mi">38</span><span class="p">,</span> <span class="s1">&#39;male&#39;</span><span class="p">)</span>
<span class="n">stu1</span><span class="o">.</span><span class="n">courses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">python</span><span class="p">)</span>
<span class="n">stu1</span><span class="o">.</span><span class="n">courses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">linux</span><span class="p">)</span>
<span class="n">stu1</span><span class="o">.</span><span class="n">tell_all_course</span><span class="p">()</span>

<span class="c1"># 教师添加课程</span>
<span class="n">tea1</span> <span class="o">=</span> <span class="n">CollegeTeacher</span><span class="p">(</span><span class="s1">&#39;TEA1&#39;</span><span class="p">,</span><span class="mi">18</span><span class="p">,</span><span class="s1">&#39;male&#39;</span><span class="p">,</span><span class="mi">10</span><span class="p">)</span>
<span class="n">tea1</span><span class="o">.</span><span class="n">courses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">linux</span><span class="p">)</span>
<span class="n">tea1</span><span class="o">.</span><span class="n">tell_all_course</span><span class="p">()</span>


<span class="c1"># -------------------------------------------</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">多态：一类事物存在多种形态</span>
<span class="sd">### Python中多态的`作用`</span>

<span class="sd">**让具有不同功能的函数可以使用相同的函数名，这样就可以用一个函数名调用不同内容(功能)的函数。**</span>

<span class="sd">### Python中多态的`特点`</span>

<span class="sd">1、只关心对象的实例方法是否同名，不关心对象所属的类型；</span>
<span class="sd">2、对象所属的类之间，继承关系可有可无；</span>
<span class="sd">3、多态的好处可以增加代码的外部调用灵活度，让代码更加通用，兼容性比较强；</span>
<span class="sd">4、多态是调用方法的技巧，不会影响到类的内部设计。</span>

<span class="sd">    例：动物存在多种形态&lt;人，狗，猫&gt;</span>
<span class="sd">多态性：在多态的背景下（统一），不考虑实例类型的情况下使用实例</span>
<span class="sd">            即不同的实例，调用相同的方法，实现不同的结果</span>
<span class="sd">    例：不同种类的动物，都可以调用吃喝拉撒的方法，但是结果不同。</span>

<span class="sd">多态性分为静态多态性和动态多态性</span>
<span class="sd">抽象类：一个特殊的类，只能被继承，不能被实例化。</span>
<span class="sd">      若类是一堆对象中抽取相同的内容而来，抽象类则是从一堆类中抽取相同的内容而来，内容包括了属性和方法。</span>
<span class="sd">抽象类和接口：抽象类的本质还是累，指的是一组类的相似性，包括属性和方法，而接口只强调函数属性的相似性。</span>

<span class="sd">abc模块：使子类强制遵循父类的方法，即子类必须重写父类方法</span>
<span class="sd">    注：父类只能用来建立规范，不能用来实例化，无需实现内部方法</span>
<span class="sd">例：</span>
<span class="sd">class Animal(metaclass = abc.ABCMeta):</span>
<span class="sd">    @abc.abstractmethod</span>
<span class="sd">    def speak(self):</span>
<span class="sd">        pass</span>
<span class="sd">鸭子类型：如果看起来像、叫声像而且走起路来像鸭子，那么它就是鸭子</span>
<span class="sd">python程序员通常根据这种行为来编写程序。</span>
<span class="sd">例如，linux对硬盘的操作看起来像文件操作，那么就用操作文件的方法操作硬盘</span>
<span class="sd">&#39;&#39;&#39;</span>

<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">封装：明确的取分内外，封装的属性可以直接在内部调用，而不能被外界使用。</span>
<span class="sd">隐藏方式：定义的属性以__开头。例：__name</span>
<span class="sd">    注意：__xxx__为内置属性而不是影藏</span>

<span class="sd">隐藏存储的__dict__总结：</span>
<span class="sd">    1.__开头的属性，实现的隐藏仅仅只是一种语法意义上的变形，并不会真正限制类外部的访问</span>
<span class="sd">    2.改变形操作只在类定义阶段检测语法时发生一次，类定义阶段结束后（对象、类的添加修改等操作）定义的属性不会变形</span>
<span class="sd">    3.属性添加__开头可以防止子类覆盖父类的方法。且父类内只会查找到自身的隐藏属性</span>
<span class="sd">封装数据属性目的：将数据属性隐藏，类外部无法直接操作属性，通过类内部接口间接操作</span>
<span class="sd">                接口实现各种逻辑，控制外部使用接口对属性的操作</span>
<span class="sd">封装方法的目的：隔离复杂度</span>
<span class="sd">&#39;&#39;&#39;</span>


<span class="k">class</span> <span class="nc">Foo</span><span class="p">:</span>
    <span class="n">__x</span> <span class="o">=</span> <span class="mi">111</span>  <span class="c1"># _Foo__x</span>
    <span class="n">__y</span> <span class="o">=</span> <span class="mi">222</span>  <span class="c1"># _Foo__y</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__age</span> <span class="o">=</span> <span class="n">age</span>

    <span class="k">def</span> <span class="nf">__func</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>  <span class="c1"># _Foo__func</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">get_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__age</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__x</span><span class="p">)</span>
        <span class="c1"># print(self._Foo__name,self._Foo__age,self._Foo__x)</span>


<span class="c1"># 外界无法调用隐藏属性</span>
<span class="k">print</span><span class="p">(</span><span class="n">Foo</span><span class="o">.</span><span class="n">__x</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">Foo</span><span class="o">.</span><span class="n">__func</span><span class="p">)</span>
<span class="c1"># 查看类名称空间，发现属性名称在定义检测阶段修改</span>
<span class="k">print</span><span class="p">(</span><span class="n">Foo</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
<span class="c1"># 仍然可以调用修改后名字的属性，不建议使用</span>
<span class="k">print</span><span class="p">(</span><span class="n">Foo</span><span class="o">.</span><span class="n">_Foo__x</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">Foo</span><span class="o">.</span><span class="n">_Foo__y</span><span class="p">)</span>

<span class="c1"># 在类定义检测阶段之后定义的属性，不被修改就放入空间</span>
<span class="n">Foo</span><span class="o">.</span><span class="n">__z</span><span class="o">=</span><span class="mi">333</span>
<span class="k">print</span><span class="p">(</span><span class="n">Foo</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">Foo</span><span class="o">.</span><span class="n">__z</span><span class="p">)</span>

<span class="c1"># 对象中也会修改对应的隐藏属性</span>
<span class="n">obj</span><span class="o">=</span><span class="n">Foo</span><span class="p">(</span><span class="s1">&#39;123&#39;</span><span class="p">,</span><span class="mi">18</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">__name</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">__age</span><span class="p">)</span>
<span class="n">obj</span><span class="o">.</span><span class="n">get_info</span><span class="p">()</span>
<span class="c1"># 对象创建之后，新定义的属性，不会被修改</span>
<span class="n">obj</span><span class="o">.</span><span class="n">__sex</span><span class="o">=</span><span class="s1">&#39;male&#39;</span>
<span class="k">print</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="vm">__dict__</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">obj</span><span class="o">.</span><span class="n">__sex</span><span class="p">)</span>
<span class="c1"># -------------------------------------------</span>
<span class="c1"># 封装数据属性的目的：</span>
<span class="c1">#   通过接口，实现控制再间接修改私有类型</span>

<span class="k">class</span> <span class="nc">People</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__age</span> <span class="o">=</span> <span class="n">age</span>

    <span class="k">def</span> <span class="nf">get_info</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">print</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__name</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">__age</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">set_info</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">age</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">str</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s1">&#39;name type error!&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">age</span><span class="p">)</span> <span class="ow">is</span> <span class="ow">not</span> <span class="nb">int</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="s1">&#39;age type error&#39;</span><span class="p">)</span>
            <span class="k">return</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__age</span> <span class="o">=</span> <span class="n">age</span>


<span class="c1"># 创建对象</span>
<span class="n">obj</span> <span class="o">=</span> <span class="n">People</span><span class="p">(</span><span class="s1">&#39;lin&#39;</span><span class="p">,</span><span class="mi">12</span><span class="p">)</span>
<span class="n">obj</span><span class="o">.</span><span class="n">get_info</span><span class="p">()</span>

<span class="c1"># 使用接口作为控制用户输入的判断，达到不影响隐藏属性的作用</span>
<span class="n">obj</span><span class="o">.</span><span class="n">set_info</span><span class="p">(</span><span class="mi">18</span><span class="p">,</span><span class="s1">&#39;LIN&#39;</span><span class="p">)</span>
<span class="n">obj</span><span class="o">.</span><span class="n">set_info</span><span class="p">(</span><span class="s1">&#39;LIN&#39;</span><span class="p">,</span><span class="s1">&#39;18&#39;</span><span class="p">)</span>

<span class="c1"># 成功修改对象</span>
<span class="n">obj</span><span class="o">.</span><span class="n">set_info</span><span class="p">(</span><span class="s1">&#39;LIN&#39;</span><span class="p">,</span><span class="mi">18</span><span class="p">)</span>
<span class="n">obj</span><span class="o">.</span><span class="n">get_info</span><span class="p">()</span>

<span class="c1"># --------------------</span>
<span class="sd">&#39;&#39;&#39;</span>
<span class="sd">特性：通过存取方法存取的属性称之为特性</span>
<span class="sd">property装饰器：使类内的函数属性伪装成数据属性</span>
<span class="sd">           被property装是的函数可以使用@xxx.setter和@xxx.deleter进行set、del操作</span>
<span class="sd">注：仅可使用与新式类</span>
<span class="sd">&#39;&#39;&#39;</span>


<span class="k">class</span> <span class="nc">People1</span><span class="p">:</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">name</span><span class="p">,</span> <span class="n">weight</span><span class="p">,</span> <span class="n">height</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__name</span> <span class="o">=</span> <span class="n">name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__weight</span> <span class="o">=</span> <span class="n">weight</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__height</span> <span class="o">=</span> <span class="n">height</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bmi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__weight</span> <span class="o">/</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">__height</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>

    <span class="c1"># 凡是被property装饰过的函数，则可以使用函数名.setter作为装饰器，让私有属性可以被修改</span>
    <span class="nd">@bmi.setter</span>
    <span class="k">def</span> <span class="nf">bmi</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">__name</span> <span class="o">=</span> <span class="n">obj</span>

    <span class="nd">@bmi.deleter</span>
    <span class="k">def</span> <span class="nf">bmi</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">del</span> <span class="bp">self</span><span class="o">.</span><span class="n">__name</span>


<span class="n">p1</span> <span class="o">=</span> <span class="n">People1</span><span class="p">(</span><span class="s1">&#39;p1&#39;</span><span class="p">,</span> <span class="mi">75</span><span class="p">,</span> <span class="mf">1.85</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">p1</span><span class="o">.</span><span class="n">bmi</span><span class="p">)</span>
</pre></div>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../007 19. 闭包、装饰器/" title="007 19. 闭包、装饰器" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                007 19. 闭包、装饰器
              </span>
            </div>
          </a>
        
        
          <a href="../009-13--python提高-2/" title="009 13 python提高 2" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                009 13  python提高 2
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.ac79c3b0.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
    
  </body>
</html>